{% extends 'base.html' %}

{% block title %}Ssst ðŸ¤«{% endblock %}}
{% block toast %}
    <p
        id="success-message"
        class="
            hidden
            bg-green-100
            dark:bg-[#67eba2]
            dark:text-[128847]
            rounded-lg
            py-5
            px-6
            mb-4
            text-base
            text-green-700
            mb-3
            opacity-75
            transition duration-300 ease-in-out
        "
        role="alert"
    >
        Secret copied to clipboard
    </p>
{% endblock %}
{% block content %}
    <h4 class="text-blue-600 dark:text-[#67eba2] text-xl leading-tight font-medium mb-2">Get your secret</h4>
    <p class="text-black dark:text-[#e8e6e3]">
    Use the button to unreveal the password.
    Copy your secret below, and paste it wherever you like.
    You can only view this once.
    Make sure to paste it safe in your password manager.
    </p>
    <br />
    <div style="position: relative;">
        <textarea
            readonly
            id="secret"
            data-access-token="{{ access_token }}"
            data-secret-id="{{ secret_id }}"
            class="
                blur:invalid:border-red-500
                dark:placeholder:text-slate-500
                mt-4
                form-control
                block
                w-full
                h-60
                overflow-auto resize-none
                px-1.5
                py-1.5
                text-base
                font-normal
                text-gray-700 dark:text-white
                bg-white dark:bg-[#282e37] bg-clip-padding
                border border-solid border-gray-300
                rounded
                resize-none overflow-auto
                transition ease-in-out
                focus:outline-0
                dark:focus:border-[#67eba2] dark:border-[#128847]
                font-ubuntu-mono
                reveal
            ">Fetching your secret. Please be patient...</textarea>
    </div>
    <div style="display: flex; justify-content: space-between;">
        <button
            data-mdb-ripple="true" data-mdb-ripple-color="light"
            type="button"
            id="copy-secret"
            class="
                inline-block
                mt-4
                px-6
                py-2.5
                bg-blue-600
                dark:bg-[#128847]
                text-white font-medium text-xs leading-tight uppercase
                rounded
                shadow-md
                hover:bg-blue-700 hover:shadow-lg
                focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0
                dark:hover:bg-[#67eba2]
                active:bg-blue-800 active:shadow-lg
                dark:focus:bg-[#67eba2]
                dark:active:bg-[#128847]
                opacity-50
                transition duration-150 ease-in-out
                cursor-not-allowed
            "
            disabled="disabled"
        >
            Copy
        </button>
        <button
            data-mdb-ripple="true" data-mdb-ripple-color="light"
            type="button"
            id="reveal-secret"
            class="
                inline-block
                mt-4
                px-6
                py-2.5
                bg-blue-600
                dark:bg-[#128847]
                text-white font-medium text-xs leading-tight uppercase
                rounded
                shadow-md
                hover:bg-blue-700 hover:shadow-lg
                focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0
                dark:hover:bg-[#67eba2]
                active:bg-blue-800 active:shadow-lg
                dark:focus:bg-[#67eba2]
                dark:active:bg-[#128847]
                opacity-50
                transition duration-150 ease-in-out
                cursor-not-allowed
            "
            disabled="disabled"
        >
            Reveal
        </button>
    </div>
{% endblock %}
{% block scripts %}
    <script language="javascript" src="{{ url_for('static', filename='js/copy-to-clipboard.js') }}"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.26.0/axios.min.js"
        integrity="sha512-bPh3uwgU5qEMipS/VOmRqynnMXGGSRv+72H/N260MQeXZIK4PG48401Bsby9Nq5P5fz7hy5UGNmC/W1Z51h2GQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">
    </script>
    <script language="javascript" src="{{ url_for('static', filename='js/get-secret-async.js') }}"></script>
{% endblock %}

